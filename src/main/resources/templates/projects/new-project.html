<!DOCTYPE html>
<html xmlns="http://www.w3.org/1999/xhtml" xmlns:th="http://www.thymeleaf.org" >

    <head th:replace="layouts :: header">
</head>
<body>
    <nav th:replace="layouts :: navbar"></nav>

    <div class="container-md pt-4">

        <form class="col-lg-8 offset-lg-4 was-validated" th:action="@{/projects/save}" th:object="${project}" method="POST">

            <!-- used when updating , to bind to the needed employee -->
            <input type="hidden" th:field="${project.projectId}" />

            <div class="form-group col-md-3">
                    <input type="text" class="form-control"
                           placeholder="Project Name" th:field="${project.name}" required>
                   <!-- <div class="valid-feedback">Valid.
                   <div class="invalid-feedback">Please fill out this field.</div></div> -->
                    <span th:if="${#fields.hasErrors('name')}"
                            th:errors="${project.name}">
                    </span>

            </div>
            <div class="form-group col-md-3">
                <select class="form-control is-valid" th:field="${project.stage}">
                    <option th:value="NOTSTARTED"> Not Started</option>
                    <option th:value="INPROGRESS"> In Progress</option>
                    <option th:value="COMPLETED"> Completed</option>
                </select>
            </div>
            <div class="form-group col-md-3">
                <textarea type="text" class="form-control is-valid" placeholder="Enter Project Description" th:field="${project.description}"></textarea>
            </div>
            <div class="form-group col-md-3">
                <select class="form-control is-valid" th:field="*{employees}" multiple="multiple">
                    <option th:each="employee : ${allEmployees}"
                            th:value="${employee.employeeId}"
                            th:text="${employee.firstName}">
                    </option>
                </select>
            </div>
            <div class="form-group form-check pl-5">
                <label class="form-check-label">
                    <input class="form-check-input" type="checkbox" name="remember" required> Details are correct?
                </label>

                <input type="hidden" name="_csrf" th:value="${_csrf.token}" />
                <button type="submit" class="btn btn-outline-success btn-sm">Add Project</button>
            </div>
        </form>

    </div>

    <div th:insert="layouts :: getbootstrapjs"></div>
</body>
</html>